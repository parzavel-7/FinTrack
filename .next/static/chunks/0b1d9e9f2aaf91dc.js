(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44235,42349,e=>{"use strict";var t=e.i(46209);let r=(0,t.default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>r],44235);let a=(0,t.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>a],42349)},85192,e=>{"use strict";let t=(0,e.i(46209).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],85192)},87808,e=>{"use strict";let t=(0,e.i(46209).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>t],87808)},48689,e=>{"use strict";let t=(0,e.i(46209).default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>t],48689)},59434,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},18939,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={assign:function(){return o},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return l}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});function s(e){let t={};for(let[r,a]of e.entries()){let e=t[r];void 0===e?t[r]=a:Array.isArray(e)?e.push(a):t[r]=[e,a]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function l(e){let t=new URLSearchParams;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)t.append(r,i(e));else t.set(r,i(a));return t}function o(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,a]of r.entries())e.append(t,a)}return e}},83002,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={formatUrl:function(){return l},formatWithValidation:function(){return c},urlObjectKeys:function(){return o}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(56985)._(e.r(18939)),i=/https?|ftp|gopher|file/;function l(e){let{auth:t,hostname:r}=e,a=e.protocol||"",n=e.pathname||"",l=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(s.urlQueryToSearchParams(o)));let u=e.search||o&&`?${o}`||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||i.test(a))&&!1!==c?(c="//"+(c||""),n&&"/"!==n[0]&&(n="/"+n)):c||(c=""),l&&"#"!==l[0]&&(l="#"+l),u&&"?"!==u[0]&&(u="?"+u),n=n.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${a}${c}${n}${u}${l}`}let o=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return l(e)}},42744,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=e.r(13449);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=s(e,a)),t&&(n.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},41024,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return b},NormalizeError:function(){return x},PageNotFoundError:function(){return v},SP:function(){return m},ST:function(){return g},WEB_VITALS:function(){return s},execOnce:function(){return i},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return o},isResSent:function(){return f},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return w}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...a)=>(r||(r=!0,t=e(...a)),t)}let l=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,o=e=>l.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let a=await e.getInitialProps(t);if(r&&f(r))return a;if(!a)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${a}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}let m="undefined"!=typeof performance,g=m&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class x extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class b extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function w(e){return JSON.stringify({message:e.message,stack:e.stack})}},31895,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let a=e.r(41024),n=e.r(94212);function s(e){if(!(0,a.isAbsoluteUrl)(e))return!0;try{let t=(0,a.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},85541,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},95029,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a={default:function(){return y},useLinkStatus:function(){return v}};for(var n in a)Object.defineProperty(r,n,{enumerable:!0,get:a[n]});let s=e.r(56985),i=e.r(79523),l=s._(e.r(13449)),o=e.r(83002),c=e.r(27351),u=e.r(42744),d=e.r(41024),f=e.r(60547);e.r(59434);let p=e.r(67910),h=e.r(31895),m=e.r(46321);function g(e){return"string"==typeof e?e:(0,o.formatUrl)(e)}function y(t){var r;let a,n,s,[o,y]=(0,l.useOptimistic)(p.IDLE_LINK_STATUS),v=(0,l.useRef)(null),{href:b,as:j,children:w,prefetch:N=null,passHref:S,replace:k,shallow:E,scroll:C,onClick:P,onMouseEnter:_,onTouchStart:T,legacyBehavior:A=!1,onNavigate:M,ref:L,unstable_dynamicOnHover:O,...R}=t;a=w,A&&("string"==typeof a||"number"==typeof a)&&(a=(0,i.jsx)("a",{children:a}));let z=l.default.useContext(c.AppRouterContext),I=!1!==N,$=!1!==N?null===(r=N)||"auto"===r?m.FetchStrategy.PPR:m.FetchStrategy.Full:m.FetchStrategy.PPR,{href:U,as:q}=l.default.useMemo(()=>{let e=g(b);return{href:e,as:j?g(j):e}},[b,j]);if(A){if(a?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=l.default.Children.only(a)}let D=A?n&&"object"==typeof n&&n.ref:L,B=l.default.useCallback(e=>(null!==z&&(v.current=(0,p.mountLinkInstance)(e,U,z,$,I,y)),()=>{v.current&&((0,p.unmountLinkForCurrentNavigation)(v.current),v.current=null),(0,p.unmountPrefetchableInstance)(e)}),[I,U,z,$,y]),F={ref:(0,u.useMergedRef)(B,D),onClick(t){A||"function"!=typeof P||P(t),A&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!z||t.defaultPrevented||function(t,r,a,n,s,i,o){if("undefined"!=typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),o){let e=!1;if(o({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(54579);l.default.startTransition(()=>{d(a||r,s?"replace":"push",i??!0,n.current)})}}(t,U,q,v,k,C,M)},onMouseEnter(e){A||"function"!=typeof _||_(e),A&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),z&&I&&(0,p.onNavigationIntent)(e.currentTarget,!0===O)},onTouchStart:function(e){A||"function"!=typeof T||T(e),A&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),z&&I&&(0,p.onNavigationIntent)(e.currentTarget,!0===O)}};return(0,d.isAbsoluteUrl)(q)?F.href=q:A&&!S&&("a"!==n.type||"href"in n.props)||(F.href=(0,f.addBasePath)(q)),s=A?l.default.cloneElement(n,F):(0,i.jsx)("a",{...R,...F,children:a}),(0,i.jsx)(x.Provider,{value:o,children:s})}e.r(85541);let x=(0,l.createContext)(p.IDLE_LINK_STATUS),v=()=>(0,l.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},3884,(e,t,r)=>{t.exports=e.r(90166)},2141,e=>{"use strict";var t=e.i(79523),r=e.i(13449),a=e.i(24826);let n=r.forwardRef(({className:e,type:r,...n},s)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-11 w-full rounded-lg border border-border bg-secondary/50 px-4 py-2 text-base text-foreground shadow-sm transition-all duration-200","placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50","hover:border-border/80","disabled:cursor-not-allowed disabled:opacity-50","file:border-0 file:bg-transparent file:text-sm file:font-medium","md:text-sm",e),ref:s,...n}));n.displayName="Input",e.s(["Input",()=>n])},37336,37619,18476,9770,e=>{"use strict";var t=e.i(46209);let r=(0,t.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);e.s(["LayoutDashboard",()=>r],37336);let a=(0,t.default)("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);e.s(["ArrowRightLeft",()=>a],37619);let n=(0,t.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);e.s(["BarChart3",()=>n],18476);let s=(0,t.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>s],9770)},55197,e=>{"use strict";let t=(0,e.i(46209).default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);e.s(["Bell",()=>t],55197)},97335,e=>{"use strict";let t=(0,e.i(46209).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>t],97335)},18627,(e,t,r)=>{"use strict";var a=e.r(13449),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},s=a.useState,i=a.useEffect,l=a.useLayoutEffect,o=a.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),a=s({inst:{value:r,getSnapshot:t}}),n=a[0].inst,u=a[1];return l(function(){n.value=r,n.getSnapshot=t,c(n)&&u({inst:n})},[e,r,t]),i(function(){return c(n)&&u({inst:n}),e(function(){c(n)&&u({inst:n})})},[e]),o(r),r};r.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:u},64309,(e,t,r)=>{"use strict";t.exports=e.r(18627)},39454,e=>{"use strict";var t=e.i(79523),r=e.i(13449),a=e.i(326),n=e.i(85660),s=e.i(23211),i=e.i(40497),l=e.i(64309);function o(){return()=>{}}var c="Avatar",[u,d]=(0,a.createContextScope)(c),[f,p]=u(c),h=r.forwardRef((e,a)=>{let{__scopeAvatar:n,...s}=e,[l,o]=r.useState("idle");return(0,t.jsx)(f,{scope:n,imageLoadingStatus:l,onImageLoadingStatusChange:o,children:(0,t.jsx)(i.Primitive.span,{...s,ref:a})})});h.displayName=c;var m="AvatarImage",g=r.forwardRef((e,a)=>{let{__scopeAvatar:c,src:u,onLoadingStatusChange:d=()=>{},...f}=e,h=p(m,c),g=function(e,{referrerPolicy:t,crossOrigin:a}){let n=(0,l.useSyncExternalStore)(o,()=>!0,()=>!1),i=r.useRef(null),c=n?(i.current||(i.current=new window.Image),i.current):null,[u,d]=r.useState(()=>v(c,e));return(0,s.useLayoutEffect)(()=>{d(v(c,e))},[c,e]),(0,s.useLayoutEffect)(()=>{let e=e=>()=>{d(e)};if(!c)return;let r=e("loaded"),n=e("error");return c.addEventListener("load",r),c.addEventListener("error",n),t&&(c.referrerPolicy=t),"string"==typeof a&&(c.crossOrigin=a),()=>{c.removeEventListener("load",r),c.removeEventListener("error",n)}},[c,a,t]),u}(u,f),y=(0,n.useCallbackRef)(e=>{d(e),h.onImageLoadingStatusChange(e)});return(0,s.useLayoutEffect)(()=>{"idle"!==g&&y(g)},[g,y]),"loaded"===g?(0,t.jsx)(i.Primitive.img,{...f,ref:a,src:u}):null});g.displayName=m;var y="AvatarFallback",x=r.forwardRef((e,a)=>{let{__scopeAvatar:n,delayMs:s,...l}=e,o=p(y,n),[c,u]=r.useState(void 0===s);return r.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>u(!0),s);return()=>window.clearTimeout(e)}},[s]),c&&"loaded"!==o.imageLoadingStatus?(0,t.jsx)(i.Primitive.span,{...l,ref:a}):null});function v(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}x.displayName=y;var b=e.i(24826);let j=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(h,{ref:a,className:(0,b.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r}));j.displayName=h.displayName;let w=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(g,{ref:a,className:(0,b.cn)("aspect-square h-full w-full",e),...r}));w.displayName=g.displayName;let N=r.forwardRef(({className:e,...r},a)=>(0,t.jsx)(x,{ref:a,className:(0,b.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r}));N.displayName=x.displayName,e.s(["Avatar",()=>j,"AvatarFallback",()=>N,"AvatarImage",()=>w],39454)},82449,84261,e=>{"use strict";var t=e.i(79523),r=e.i(95029),a=e.i(3884),n=e.i(80427),s=e.i(37336),i=e.i(37619),l=e.i(18476),o=e.i(87808),c=e.i(48689),u=e.i(9770),d=e.i(55197),f=e.i(97335),p=e.i(72065),h=e.i(2141),m=e.i(39454),g=e.i(58680),y=e.i(58962),x=e.i(13449),v=e.i(85701),b=e.i(39034);function j(){let{user:e}=(0,b.useAuth)(),{toast:t}=(0,y.useToast)(),[r,a]=(0,x.useState)(null),[n,s]=(0,x.useState)(!0);(0,x.useEffect)(()=>{e&&i()},[e]);let i=async()=>{if(e)try{let{data:t,error:r}=await v.supabase.from("profiles").select("*").eq("user_id",e.id).single();if(r)throw r;a(t)}catch(e){console.error("Error fetching profile:",e)}finally{s(!1)}},l=async n=>{if(!e||!r)return{error:Error("No user or profile")};try{let{error:s}=await v.supabase.from("profiles").update({...n,updated_at:new Date().toISOString()}).eq("user_id",e.id);if(s)throw s;return a({...r,...n}),t({title:"Profile updated",description:"Your changes have been saved successfully."}),{error:null}}catch(e){return t({title:"Error updating profile",description:e.message,variant:"destructive"}),{error:e}}},o=async r=>{if(!e)return{error:Error("No user"),url:null};try{let t=r.name.split(".").pop(),a=`${e.id}/avatar.${t}`;await v.supabase.storage.from("avatars").remove([a]);let{error:n}=await v.supabase.storage.from("avatars").upload(a,r,{upsert:!0});if(n)throw n;let{data:s}=v.supabase.storage.from("avatars").getPublicUrl(a),i=`${s.publicUrl}?t=${Date.now()}`;return await l({avatar_url:i}),{error:null,url:i}}catch(e){return t({title:"Error uploading avatar",description:e.message,variant:"destructive"}),{error:e,url:null}}},c=async()=>{if(!e)return{error:Error("No user")};try{let{error:t}=await v.supabase.storage.from("avatars").remove([`${e.id}/avatar.png`,`${e.id}/avatar.jpg`,`${e.id}/avatar.jpeg`,`${e.id}/avatar.webp`]);return t&&console.warn("Error deleting avatar files:",t),await l({avatar_url:null}),{error:null}}catch(e){return t({title:"Error removing avatar",description:e.message,variant:"destructive"}),{error:e}}};return{profile:r,loading:n,updateProfile:l,uploadAvatar:o,removeAvatar:c,refreshProfile:i}}e.s(["useProfile",()=>j],84261);let w=[{label:"Dashboard",icon:s.LayoutDashboard,href:"/dashboard"},{label:"Transactions",icon:i.ArrowRightLeft,href:"/transactions"},{label:"Reports",icon:l.BarChart3,href:"/reports"},{label:"AI Insights",icon:o.Sparkles,href:"/ai-insights"},{label:"Goals",icon:c.Target,href:"/goals"}];e.s(["default",0,({children:e})=>{let s=(0,a.usePathname)();(0,a.useRouter)();let{toast:i}=(0,y.useToast)(),{profile:l}=j(),{user:o}=(0,b.useAuth)();return(0,t.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,t.jsxs)("aside",{className:"hidden lg:flex lg:flex-col w-64 border-r border-border bg-sidebar p-4",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(g.default,{size:"md"})}),(0,t.jsx)("nav",{className:"flex-1 space-y-1",children:w.map(e=>{let a=s===e.href;return(0,t.jsxs)(r.default,{href:e.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${a?"bg-primary/10 text-primary border-l-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:[(0,t.jsx)(e.icon,{size:20}),e.label]},e.href)})}),(0,t.jsx)("div",{className:"pt-4 border-t border-border space-y-1",children:(0,t.jsxs)(r.default,{href:"/settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${"/settings"===s?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:[(0,t.jsx)(u.Settings,{size:20}),"Settings"]})})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsx)("header",{className:"h-16 border-b border-border bg-background/80 backdrop-blur-xl sticky top-0 z-40",children:(0,t.jsxs)("div",{className:"h-full px-6 flex items-center justify-between gap-4",children:[(0,t.jsx)("div",{className:"lg:hidden",children:(0,t.jsx)(g.default,{size:"sm",showText:!1})}),(0,t.jsx)("div",{className:"hidden md:flex flex-1 max-w-md",children:(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),(0,t.jsx)(h.Input,{placeholder:"Search transactions, categories...",className:"pl-10 bg-secondary/50"})]})}),(0,t.jsx)("div",{className:"hidden lg:flex items-center gap-1",children:w.slice(0,5).map(e=>{let a=location.pathname===e.href;return(0,t.jsx)(r.default,{href:e.href,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${a?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:e.label},e.href)})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.default,{href:"/settings?tab=notifications",children:(0,t.jsxs)(p.Button,{variant:"ghost",size:"icon",className:"relative",children:[(0,t.jsx)(d.Bell,{size:20}),(0,t.jsx)("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-destructive"})]})}),(0,t.jsx)(r.default,{href:"/settings",children:(0,t.jsx)(p.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(u.Settings,{size:20})})}),(0,t.jsx)(r.default,{href:"/settings",children:(0,t.jsxs)(m.Avatar,{className:"h-9 w-9 cursor-pointer hover:opacity-90 transition-opacity border-2 border-primary/20",children:[(0,t.jsx)(m.AvatarImage,{src:l?.avatar_url||void 0,alt:"Profile"}),(0,t.jsx)(m.AvatarFallback,{className:"bg-gradient-primary text-primary-foreground text-sm font-medium",children:l?.full_name?l.full_name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):o?.email?.[0]?.toUpperCase()||"U"})]})})]})]})}),(0,t.jsx)("main",{className:"flex-1 p-6 overflow-auto",children:(0,t.jsx)(n.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:e})})]})]})}],82449)},31234,e=>{"use strict";var t=e.i(13449),r=e.i(85701),a=e.i(39034),n=e.i(58962);function s(){let[e,s]=(0,t.useState)([]),[i,l]=(0,t.useState)([]),[o,c]=(0,t.useState)(!0),{user:u}=(0,a.useAuth)(),{toast:d}=(0,n.useToast)(),f=async()=>{if(!u)return;let{data:e,error:t}=await r.supabase.from("transactions").select(`
        *,
        category:categories(id, name, icon, color)
      `).eq("user_id",u.id).order("date",{ascending:!1});t?d({title:"Error fetching transactions",description:t.message,variant:"destructive"}):s(e)},p=async()=>{if(!u)return;let{data:e,error:t}=await r.supabase.from("categories").select("*").eq("user_id",u.id);t?d({title:"Error fetching categories",description:t.message,variant:"destructive"}):l(e)};return(0,t.useEffect)(()=>{u&&(c(!0),Promise.all([f(),p()]).finally(()=>{c(!1)}))},[u]),{transactions:e,categories:i,loading:o,addTransaction:async e=>{if(!u)return{error:Error("Not authenticated")};let{error:t}=await r.supabase.from("transactions").insert({...e,user_id:u.id});return t?{error:t}:(await f(),{error:null})},deleteTransaction:async e=>{let{error:t}=await r.supabase.from("transactions").delete().eq("id",e);t?d({title:"Error deleting transaction",description:t.message,variant:"destructive"}):await f()},getTotals:()=>{let t=e.filter(e=>"income"===e.type).reduce((e,t)=>e+Number(t.amount),0),r=e.filter(e=>"expense"===e.type).reduce((e,t)=>e+Number(t.amount),0);return{income:t,expenses:r,savings:t-r}},refetch:f}}e.s(["useTransactions",()=>s])},65196,e=>{"use strict";let t=(0,e.i(46209).default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>t],65196)},90094,e=>{"use strict";let t=(0,e.i(46209).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],90094)},58943,e=>{"use strict";var t=e.i(13449),r=e.i(85701),a=e.i(39034),n=e.i(58962);function s(){let[e,s]=(0,t.useState)([]),[i,l]=(0,t.useState)(!0),{user:o}=(0,a.useAuth)(),{toast:c}=(0,n.useToast)(),u=async()=>{if(!o)return;let{data:e,error:t}=await r.supabase.from("goals").select("*").eq("user_id",o.id).order("created_at",{ascending:!1});t?c({title:"Error fetching goals",description:t.message,variant:"destructive"}):s(e)};(0,t.useEffect)(()=>{o&&(l(!0),u().finally(()=>l(!1)))},[o]);let d=async(e,t)=>{let{error:a}=await r.supabase.from("goals").update(t).eq("id",e);return a?(c({title:"Error updating goal",description:a.message,variant:"destructive"}),{error:a}):(await u(),{error:null})},f=async(t,r)=>{let a=e.find(e=>e.id===t);return a?d(t,{current_amount:Number(a.current_amount)+r}):{error:Error("Goal not found")}};return{goals:e,loading:i,addGoal:async e=>{if(!o)return{error:Error("Not authenticated")};let{error:t}=await r.supabase.from("goals").insert({...e,user_id:o.id});return t?{error:t}:(await u(),{error:null})},updateGoal:d,deleteGoal:async e=>{let{error:t}=await r.supabase.from("goals").delete().eq("id",e);t?c({title:"Error deleting goal",description:t.message,variant:"destructive"}):await u()},addFundsToGoal:f,getTotals:()=>({totalSaved:e.reduce((e,t)=>e+Number(t.current_amount),0),totalTarget:e.reduce((e,t)=>e+Number(t.target_amount),0)}),refetch:u}}e.s(["useGoals",()=>s])},85918,e=>{"use strict";var t=e.i(79523),r=e.i(13449),a=e.i(80427),n=e.i(87808),s=e.i(85192),i=e.i(90094),l=e.i(46209);let o=(0,l.default)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var c=e.i(48689),u=e.i(44235),d=e.i(65196),f=e.i(42349);let p=(0,l.default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var h=e.i(72065),m=e.i(87385),g=e.i(82449),y=e.i(31234),x=e.i(58943),v=e.i(85701),b=e.i(58962);e.s(["default",0,()=>{let{transactions:e,loading:l}=(0,y.useTransactions)(),{goals:j,loading:w}=(0,x.useGoals)(),{toast:N}=(0,b.useToast)(),[S,k]=(0,r.useState)(null),[E,C]=(0,r.useState)(!1),[P,_]=(0,r.useState)(null),T=async()=>{if(0===e.length)return void _("Add some transactions to get AI insights");C(!0),_(null);try{let{data:t,error:r}=await v.supabase.functions.invoke("ai-insights",{body:{transactions:e,goals:j}});if(r)throw r;k(t)}catch(e){console.error("Error fetching insights:",e),_(e.message||"Failed to fetch AI insights"),N({title:"Error",description:"Could not fetch AI insights. Please try again.",variant:"destructive"})}finally{C(!1)}};(0,r.useEffect)(()=>{l||w||!(e.length>0)||S||T()},[l,w,e.length]);let A=l||w||E;return(0,t.jsx)(g.default,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-3",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-xl bg-gradient-primary flex items-center justify-center",children:(0,t.jsx)(n.Sparkles,{className:"text-primary-foreground",size:22})}),"AI Insights"]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Personalized financial intelligence powered by AI"})]}),(0,t.jsxs)(h.Button,{variant:"outline",onClick:T,disabled:A||0===e.length,children:[(0,t.jsx)(p,{size:18,className:E?"animate-spin":""}),"Refresh Insights"]})]}),A?(0,t.jsx)(m.Card,{variant:"glass",className:"py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)(f.Loader2,{className:"h-8 w-8 animate-spin text-primary"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Analyzing your financial data..."})]})}):P||0===e.length?(0,t.jsx)(m.Card,{variant:"glass",className:"py-12",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(n.Sparkles,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No data to analyze"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:P||"Add some transactions to get personalized AI insights"})]})}):S?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:S.insights.map((e,r)=>{let n=(e=>{switch(e){case"positive":return s.TrendingUp;case"warning":return i.AlertTriangle;case"tip":return o;default:return c.Target}})(e.type);return(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},children:(0,t.jsx)(m.Card,{className:`border ${(e=>{switch(e){case"positive":return"border-success/30 bg-success/5";case"warning":return"border-warning/30 bg-warning/5";case"tip":return"border-primary/30 bg-primary/5";default:return"border-border"}})(e.type)}`,children:(0,t.jsx)(m.CardContent,{className:"p-5",children:(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center flex-shrink-0 ${(e=>{switch(e){case"positive":return"bg-success/20 text-success";case"warning":return"bg-warning/20 text-warning";case"tip":return"bg-primary/20 text-primary";default:return"bg-secondary text-foreground"}})(e.type)}`,children:(0,t.jsx)(n,{size:24})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]})]})})})},r)})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,t.jsxs)(m.Card,{variant:"glass",children:[(0,t.jsx)(m.CardHeader,{children:(0,t.jsx)(m.CardTitle,{className:"text-lg",children:"Spending Patterns"})}),(0,t.jsx)(m.CardContent,{className:"space-y-4",children:S.spendingPatterns.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"h-10 w-10 rounded-lg bg-secondary flex items-center justify-center",children:(0,t.jsx)(d.ShoppingCart,{size:18,className:"text-muted-foreground"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.category}),(0,t.jsx)("span",{className:`text-xs font-medium uppercase ${(e=>{switch(e){case"good":return"text-success";case"warning":return"text-warning";case"alert":return"text-destructive";default:return"text-muted-foreground"}})(e.status)}`,children:e.status})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.advice})]})]},r))})]})}),(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,t.jsxs)(m.Card,{variant:"glass",children:[(0,t.jsx)(m.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o,{size:20,className:"text-primary"}),(0,t.jsx)(m.CardTitle,{className:"text-lg",children:"Smart Recommendations"})]})}),(0,t.jsx)(m.CardContent,{className:"space-y-3",children:S.recommendations.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary/50 hover:bg-secondary transition-colors",children:[(0,t.jsx)("div",{className:"h-6 w-6 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,t.jsx)(u.DollarSign,{size:12,className:"text-primary"})}),(0,t.jsx)("p",{className:"text-sm",children:e})]},r))})]})})]}),(0,t.jsx)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,t.jsx)(m.Card,{variant:"glow",className:"bg-gradient-subtle",children:(0,t.jsx)(m.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"h-14 w-14 rounded-2xl bg-gradient-primary flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(n.Sparkles,{className:"text-primary-foreground",size:28})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Monthly AI Summary"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2 leading-relaxed",children:S.summary}),(0,t.jsx)("div",{className:"flex gap-3 mt-4",children:(0,t.jsx)(h.Button,{variant:"hero",size:"sm",onClick:T,children:"Refresh Analysis"})})]})]})})})})]}):null]})})}],85918)}]);