{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default:\r\n          \"bg-primary text-primary-foreground shadow-md hover:bg-primary/90 hover:shadow-lg hover:shadow-primary/25 active:scale-[0.98]\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground shadow-md hover:bg-destructive/90 hover:shadow-lg\",\r\n        outline:\r\n          \"border border-border bg-transparent text-foreground hover:bg-secondary hover:border-primary/50\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost:\r\n          \"text-foreground hover:bg-secondary hover:text-foreground\",\r\n        link:\r\n          \"text-primary underline-offset-4 hover:underline\",\r\n        gradient:\r\n          \"bg-gradient-primary text-primary-foreground shadow-md hover:shadow-lg hover:shadow-primary/30 active:scale-[0.98] border-0\",\r\n        hero:\r\n          \"bg-gradient-primary text-primary-foreground shadow-lg shadow-primary/30 hover:shadow-xl hover:shadow-primary/40 active:scale-[0.98] font-semibold\",\r\n        \"hero-outline\":\r\n          \"border border-border/50 bg-transparent text-foreground hover:bg-secondary/50 hover:border-primary/30\",\r\n        glass:\r\n          \"bg-card/50 backdrop-blur-xl border border-border/50 text-foreground hover:bg-card/70 hover:border-primary/30\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-5 py-2\",\r\n        sm: \"h-9 rounded-md px-4 text-xs\",\r\n        lg: \"h-12 rounded-xl px-8 text-base\",\r\n        xl: \"h-14 rounded-xl px-10 text-lg\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\";\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nButton.displayName = \"Button\";\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,mMAAG,EACxB,oXACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MACE;YACF,UACE;YACF,MACE;YACF,gBACE;YACF,OACE;QACJ;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,oMAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,oMAAI,GAAG;IAC9B,qBACE,sNAAC;QACC,WAAW,IAAA,qJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-11 w-full rounded-lg border border-border bg-secondary/50 px-4 py-2 text-base text-foreground shadow-sm transition-all duration-200\",\r\n          \"placeholder:text-muted-foreground\",\r\n          \"focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary/50\",\r\n          \"hover:border-border/80\",\r\n          \"disabled:cursor-not-allowed disabled:opacity-50\",\r\n          \"file:border-0 file:bg-transparent file:text-sm file:font-medium\",\r\n          \"md:text-sm\",\r\n          className\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,oMAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,sNAAC;QACC,MAAM;QACN,WAAW,IAAA,qJAAE,EACX,8IACA,qCACA,iFACA,0BACA,mDACA,mEACA,cACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/ui/avatar.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Avatar = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Root>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Root\r\n    ref={ref}\r\n    className={cn(\"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\", className)}\r\n    {...props}\r\n  />\r\n));\r\nAvatar.displayName = AvatarPrimitive.Root.displayName;\r\n\r\nconst AvatarImage = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Image>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Image ref={ref} className={cn(\"aspect-square h-full w-full\", className)} {...props} />\r\n));\r\nAvatarImage.displayName = AvatarPrimitive.Image.displayName;\r\n\r\nconst AvatarFallback = React.forwardRef<\r\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\r\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\r\n>(({ className, ...props }, ref) => (\r\n  <AvatarPrimitive.Fallback\r\n    ref={ref}\r\n    className={cn(\"flex h-full w-full items-center justify-center rounded-full bg-muted\", className)}\r\n    {...props}\r\n  />\r\n));\r\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName;\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback };\r\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,oMAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sNAAC,sMAAoB;QACnB,KAAK;QACL,WAAW,IAAA,qJAAE,EAAC,iEAAiE;QAC9E,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,sMAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,oMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sNAAC,uMAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,qJAAE,EAAC,+BAA+B;QAAa,GAAG,KAAK;;;;;;;AAErG,YAAY,WAAW,GAAG,uMAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,oMAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sNAAC,0MAAwB;QACvB,KAAK;QACL,WAAW,IAAA,qJAAE,EAAC,wEAAwE;QACrF,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,0MAAwB,CAAC,WAAW"}},
    {"offset": {"line": 175, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/Logo.tsx"],"sourcesContent":["import Link from \"next/link\";\r\n\r\ninterface LogoProps {\r\n  size?: \"sm\" | \"md\" | \"lg\";\r\n  showText?: boolean;\r\n}\r\n\r\nconst Logo = ({ size = \"md\", showText = true }: LogoProps) => {\r\n  const sizes = {\r\n    sm: \"h-6 w-6\",\r\n    md: \"h-8 w-8\",\r\n    lg: \"h-10 w-10\",\r\n  };\r\n\r\n  const textSizes = {\r\n    sm: \"text-lg\",\r\n    md: \"text-xl\",\r\n    lg: \"text-2xl\",\r\n  };\r\n\r\n  return (\r\n    <Link href=\"/\" className=\"flex items-center gap-2.5 group\">\r\n      <div className=\"relative\">\r\n        <div className={`${sizes[size]} `}>\r\n          <img\r\n            src=\"/logo.png\"\r\n            alt=\"FinTrack\"\r\n            className=\"object-contain h-full w-full\"\r\n          />\r\n        </div>\r\n        <div className=\"absolute inset-0 rounded-lg bg-gradient-primary opacity-0 group-hover:opacity-30 blur-xl transition-opacity duration-300\" />\r\n      </div>\r\n      {showText && (\r\n        <span className={`${textSizes[size]} font-bold tracking-tight`}>\r\n          <span className=\"text-white\">Fin</span>\r\n          <span style={{ color: \"#8A5AD4\" }}>Track</span>\r\n        </span>\r\n      )}\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAOA,MAAM,OAAO,CAAC,EAAE,OAAO,IAAI,EAAE,WAAW,IAAI,EAAa;IACvD,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,YAAY;QAChB,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IAEA,qBACE,sNAAC,mMAAI;QAAC,MAAK;QAAI,WAAU;;0BACvB,sNAAC;gBAAI,WAAU;;kCACb,sNAAC;wBAAI,WAAW,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;kCAC/B,cAAA,sNAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,WAAU;;;;;;;;;;;kCAGd,sNAAC;wBAAI,WAAU;;;;;;;;;;;;YAEhB,0BACC,sNAAC;gBAAK,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,yBAAyB,CAAC;;kCAC5D,sNAAC;wBAAK,WAAU;kCAAa;;;;;;kCAC7B,sNAAC;wBAAK,OAAO;4BAAE,OAAO;wBAAU;kCAAG;;;;;;;;;;;;;;;;;;AAK7C;KAjCM;uCAmCS"}},
    {"offset": {"line": 275, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/hooks/useProfile.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"@/hooks/useAuth\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\n\r\nexport interface Profile {\r\n  id: string; // This is the primary key (user_id) in profiles table\r\n  full_name: string | null;\r\n  currency: string;\r\n  theme: \"light\" | \"dark\" | \"system\";\r\n  avatar_url: string | null;\r\n  user_id: string;\r\n}\r\n\r\nexport function useProfile() {\r\n  const { user } = useAuth();\r\n  const { toast } = useToast();\r\n  const [profile, setProfile] = useState<Profile | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const fetchProfile = async () => {\r\n    if (!user) return;\r\n    \r\n    const { data, error } = await supabase\r\n      .from(\"profiles\")\r\n      .select(\"*\")\r\n      .eq(\"user_id\", user.id)\r\n      .single();\r\n\r\n    if (error) {\r\n      if (error.code === 'PGRST116') {\r\n        // No profile found, user might need to be created in profiles table\r\n        console.log(\"No profile found for user\");\r\n        return;\r\n      }\r\n      console.error(\"Error fetching profile:\", error.message);\r\n      return;\r\n    }\r\n\r\n    setProfile(data as Profile);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setLoading(true);\r\n      fetchProfile().finally(() => setLoading(false));\r\n    } else {\r\n        setProfile(null);\r\n    }\r\n  }, [user]);\r\n\r\n  const updateProfile = async (updates: Partial<Profile>) => {\r\n    if (!user) return { error: new Error(\"Not authenticated\") };\r\n\r\n    const { error } = await supabase\r\n      .from(\"profiles\")\r\n      .update(updates)\r\n      .eq(\"user_id\", user.id);\r\n\r\n    if (error) {\r\n      toast({\r\n        title: \"Error updating profile\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n      return { error };\r\n    }\r\n\r\n    await fetchProfile();\r\n    \r\n    toast({\r\n      title: \"Profile updated\",\r\n      description: \"Your changes have been saved.\",\r\n    });\r\n\r\n    return { error: null };\r\n  };\r\n\r\n  const uploadAvatar = async (file: File) => {\r\n    if (!user) return { error: new Error(\"No user\"), url: null };\r\n\r\n    try {\r\n      const fileExt = file.name.split(\".\").pop();\r\n      const filePath = `${user.id}/${Math.random()}.${fileExt}`;\r\n\r\n      const { error: uploadError } = await supabase.storage\r\n        .from(\"avatars\")\r\n        .upload(filePath, file);\r\n\r\n      if (uploadError) {\r\n        throw uploadError;\r\n      }\r\n\r\n      const { data: { publicUrl } } = supabase.storage\r\n        .from(\"avatars\")\r\n        .getPublicUrl(filePath);\r\n\r\n      await updateProfile({ avatar_url: publicUrl });\r\n\r\n      return { error: null, url: publicUrl };\r\n\r\n    } catch (error: any) {\r\n      toast({\r\n        title: \"Error uploading avatar\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n      return { error, url: null };\r\n    }\r\n  };\r\n\r\n  const removeAvatar = async () => {\r\n      // Logic for removing avatar from storage could go here\r\n      // For now just clear the URL\r\n      return updateProfile({ avatar_url: null });\r\n  }\r\n\r\n  return {\r\n    profile,\r\n    loading,\r\n    updateProfile,\r\n    uploadAvatar,\r\n    removeAvatar,\r\n    refreshProfile: fetchProfile,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAWO,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,+JAAO;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,oKAAQ;IAC1B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kMAAQ,EAAiB;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kMAAQ,EAAC;IAEvC,MAAM,eAAe;QACnB,IAAI,CAAC,MAAM;QAEX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,iLAAQ,CACnC,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,MAAM;QAET,IAAI,OAAO;YACT,IAAI,MAAM,IAAI,KAAK,YAAY;gBAC7B,oEAAoE;gBACpE,QAAQ,GAAG,CAAC;gBACZ;YACF;YACA,QAAQ,KAAK,CAAC,2BAA2B,MAAM,OAAO;YACtD;QACF;QAEA,WAAW;IACb;IAEA,IAAA,mMAAS;gCAAC;YACR,IAAI,MAAM;gBACR,WAAW;gBACX,eAAe,OAAO;4CAAC,IAAM,WAAW;;YAC1C,OAAO;gBACH,WAAW;YACf;QACF;+BAAG;QAAC;KAAK;IAET,MAAM,gBAAgB,OAAO;QAC3B,IAAI,CAAC,MAAM,OAAO;YAAE,OAAO,IAAI,MAAM;QAAqB;QAE1D,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,iLAAQ,CAC7B,IAAI,CAAC,YACL,MAAM,CAAC,SACP,EAAE,CAAC,WAAW,KAAK,EAAE;QAExB,IAAI,OAAO;YACT,MAAM;gBACJ,OAAO;gBACP,aAAa,MAAM,OAAO;gBAC1B,SAAS;YACX;YACA,OAAO;gBAAE;YAAM;QACjB;QAEA,MAAM;QAEN,MAAM;YACJ,OAAO;YACP,aAAa;QACf;QAEA,OAAO;YAAE,OAAO;QAAK;IACvB;IAEA,MAAM,eAAe,OAAO;QAC1B,IAAI,CAAC,MAAM,OAAO;YAAE,OAAO,IAAI,MAAM;YAAY,KAAK;QAAK;QAE3D,IAAI;YACF,MAAM,UAAU,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG;YACxC,MAAM,WAAW,GAAG,KAAK,EAAE,CAAC,CAAC,EAAE,KAAK,MAAM,GAAG,CAAC,EAAE,SAAS;YAEzD,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,iLAAQ,CAAC,OAAO,CAClD,IAAI,CAAC,WACL,MAAM,CAAC,UAAU;YAEpB,IAAI,aAAa;gBACf,MAAM;YACR;YAEA,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,EAAE,GAAG,iLAAQ,CAAC,OAAO,CAC7C,IAAI,CAAC,WACL,YAAY,CAAC;YAEhB,MAAM,cAAc;gBAAE,YAAY;YAAU;YAE5C,OAAO;gBAAE,OAAO;gBAAM,KAAK;YAAU;QAEvC,EAAE,OAAO,OAAY;YACnB,MAAM;gBACJ,OAAO;gBACP,aAAa,MAAM,OAAO;gBAC1B,SAAS;YACX;YACA,OAAO;gBAAE;gBAAO,KAAK;YAAK;QAC5B;IACF;IAEA,MAAM,eAAe;QACjB,uDAAuD;QACvD,6BAA6B;QAC7B,OAAO,cAAc;YAAE,YAAY;QAAK;IAC5C;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;QACA,gBAAgB;IAClB;AACF;GA/GgB;;QACG,+JAAO;QACN,oKAAQ"}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/AppLayout.tsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  LayoutDashboard,\r\n  ArrowRightLeft,\r\n  BarChart3,\r\n  Sparkles,\r\n  Target,\r\n  Settings,\r\n  Bell,\r\n  LogOut,\r\n  Search,\r\n  User,\r\n} from \"lucide-react\";\r\nimport { Button } from \"./ui/button\";\r\nimport { Input } from \"./ui/input\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"./ui/avatar\";\r\nimport Logo from \"./Logo\";\r\nimport { useToast } from \"../hooks/use-toast\";\r\nimport { useProfile } from \"../hooks/useProfile\";\r\nimport { useAuth } from \"../hooks/useAuth\";\r\n\r\ninterface AppLayoutProps {\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst navItems = [\r\n  { label: \"Dashboard\", icon: LayoutDashboard, href: \"/dashboard\" },\r\n  { label: \"Transactions\", icon: ArrowRightLeft, href: \"/transactions\" },\r\n  { label: \"Reports\", icon: BarChart3, href: \"/reports\" },\r\n  { label: \"AI Insights\", icon: Sparkles, href: \"/ai-insights\" },\r\n  { label: \"Goals\", icon: Target, href: \"/goals\" },\r\n];\r\n\r\nconst AppLayout = ({ children }: AppLayoutProps) => {\r\n  const pathname = usePathname();\r\n  const router = useRouter();\r\n  const { toast } = useToast();\r\n  const { profile } = useProfile();\r\n  const { user } = useAuth();\r\n\r\n  const getInitials = () => {\r\n    if (profile?.full_name) {\r\n      return profile.full_name\r\n        .split(\" \")\r\n        .map((n) => n[0])\r\n        .join(\"\")\r\n        .toUpperCase()\r\n        .slice(0, 2);\r\n    }\r\n    return user?.email?.[0]?.toUpperCase() || \"U\";\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    toast({\r\n      title: \"Logged out\",\r\n      description: \"You have been successfully logged out.\",\r\n    });\r\n    router.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background flex\">\r\n      {/* Sidebar */}\r\n      <aside className=\"hidden lg:flex lg:flex-col w-64 border-r border-border bg-sidebar p-4\">\r\n        <div className=\"mb-8\">\r\n          <Logo size=\"md\" />\r\n        </div>\r\n\r\n        <nav className=\"flex-1 space-y-1\">\r\n          {navItems.map((item) => {\r\n            const isActive = pathname === item.href;\r\n            return (\r\n              <Link\r\n                key={item.href}\r\n                href={item.href}\r\n                className={`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${\r\n                  isActive\r\n                    ? \"bg-primary/10 text-primary border-l-2 border-primary\"\r\n                    : \"text-muted-foreground hover:text-foreground hover:bg-secondary\"\r\n                }`}\r\n              >\r\n                <item.icon size={20} />\r\n                {item.label}\r\n              </Link>\r\n            );\r\n          })}\r\n        </nav>\r\n\r\n        <div className=\"pt-4 border-t border-border space-y-1\">\r\n          <Link\r\n            href=\"/settings\"\r\n            className={`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${\r\n              pathname === \"/settings\"\r\n                ? \"bg-primary/10 text-primary\"\r\n                : \"text-muted-foreground hover:text-foreground hover:bg-secondary\"\r\n            }`}\r\n          >\r\n            <Settings size={20} />\r\n            Settings\r\n          </Link>\r\n        </div>\r\n      </aside>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex-1 flex flex-col\">\r\n        {/* Top Navigation */}\r\n        <header className=\"h-16 border-b border-border bg-background/80 backdrop-blur-xl sticky top-0 z-40\">\r\n          <div className=\"h-full px-6 flex items-center justify-between gap-4\">\r\n            {/* Mobile Logo */}\r\n            <div className=\"lg:hidden\">\r\n              <Logo size=\"sm\" showText={false} />\r\n            </div>\r\n\r\n            {/* Search */}\r\n            <div className=\"hidden md:flex flex-1 max-w-md\">\r\n              <div className=\"relative w-full\">\r\n                <Search\r\n                  className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground\"\r\n                  size={18}\r\n                />\r\n                <Input\r\n                  placeholder=\"Search transactions, categories...\"\r\n                  className=\"pl-10 bg-secondary/50\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Desktop Nav - Hidden on mobile, shown in header on desktop */}\r\n            <div className=\"hidden lg:flex items-center gap-1\">\r\n              {navItems.slice(0, 5).map((item) => {\r\n                const isActive = pathname === item.href;\r\n                return (\r\n                  <Link\r\n                    key={item.href}\r\n                    href={item.href}\r\n                    className={`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${\r\n                      isActive\r\n                        ? \"text-primary\"\r\n                        : \"text-muted-foreground hover:text-foreground\"\r\n                    }`}\r\n                  >\r\n                    {item.label}\r\n                  </Link>\r\n                );\r\n              })}\r\n            </div>\r\n\r\n            {/* Right Side Actions */}\r\n            <div className=\"flex items-center gap-2\">\r\n              <Link href=\"/settings?tab=notifications\">\r\n                <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n                  <Bell size={20} />\r\n                  <span className=\"absolute top-2 right-2 h-2 w-2 rounded-full bg-destructive\" />\r\n                </Button>\r\n              </Link>\r\n              <Link href=\"/settings\">\r\n                <Button variant=\"ghost\" size=\"icon\">\r\n                  <Settings size={20} />\r\n                </Button>\r\n              </Link>\r\n              <Link href=\"/settings\">\r\n                <Avatar className=\"h-9 w-9 cursor-pointer hover:opacity-90 transition-opacity border-2 border-primary/20\">\r\n                  <AvatarImage\r\n                    src={profile?.avatar_url || undefined}\r\n                    alt=\"Profile\"\r\n                  />\r\n                  <AvatarFallback className=\"bg-gradient-primary text-primary-foreground text-sm font-medium\">\r\n                    {getInitials()}\r\n                  </AvatarFallback>\r\n                </Avatar>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        {/* Page Content */}\r\n        <main className=\"flex-1 p-6 overflow-auto\">\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 10 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            {children}\r\n          </motion.div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppLayout;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 807, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Card = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement> & {\r\n    variant?: \"default\" | \"glass\" | \"glow\" | \"gradient\";\r\n  }\r\n>(({ className, variant = \"default\", ...props }, ref) => {\r\n  const variants = {\r\n    default: \"bg-card border-border\",\r\n    glass: \"bg-card/60 backdrop-blur-xl border-border/50\",\r\n    glow: \"bg-card border-border shadow-glow-card\",\r\n    gradient: \"bg-gradient-subtle border-border/50\",\r\n  };\r\n\r\n  return (\r\n    <div\r\n      ref={ref}\r\n      className={cn(\r\n        \"rounded-xl border p-6 shadow-lg transition-all duration-300 text-card-foreground\",\r\n        variants[variant],\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nCard.displayName = \"Card\";\r\n\r\nconst CardHeader = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex flex-col space-y-1.5 pb-4\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardHeader.displayName = \"CardHeader\";\r\n\r\nconst CardTitle = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLHeadingElement>\r\n>(({ className, ...props }, ref) => (\r\n  <h3\r\n    ref={ref}\r\n    className={cn(\r\n      \"text-xl font-semibold leading-none tracking-tight text-foreground\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n));\r\nCardTitle.displayName = \"CardTitle\";\r\n\r\nconst CardDescription = React.forwardRef<\r\n  HTMLParagraphElement,\r\n  React.HTMLAttributes<HTMLParagraphElement>\r\n>(({ className, ...props }, ref) => (\r\n  <p\r\n    ref={ref}\r\n    className={cn(\"text-sm text-muted-foreground\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardDescription.displayName = \"CardDescription\";\r\n\r\nconst CardContent = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div ref={ref} className={cn(\"\", className)} {...props} />\r\n));\r\nCardContent.displayName = \"CardContent\";\r\n\r\nconst CardFooter = React.forwardRef<\r\n  HTMLDivElement,\r\n  React.HTMLAttributes<HTMLDivElement>\r\n>(({ className, ...props }, ref) => (\r\n  <div\r\n    ref={ref}\r\n    className={cn(\"flex items-center pt-4\", className)}\r\n    {...props}\r\n  />\r\n));\r\nCardFooter.displayName = \"CardFooter\";\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,oMAAgB,MAK3B,CAAC,EAAE,SAAS,EAAE,UAAU,SAAS,EAAE,GAAG,OAAO,EAAE;IAC/C,MAAM,WAAW;QACf,SAAS;QACT,OAAO;QACP,MAAM;QACN,UAAU;IACZ;IAEA,qBACE,sNAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EACX,oFACA,QAAQ,CAAC,QAAQ,EACjB;QAED,GAAG,KAAK;;;;;;AAGf;;AACA,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,oMAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sNAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EAAC,kCAAkC;QAC/C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,oMAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sNAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EACX,qEACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,oMAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sNAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,oMAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sNAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qJAAE,EAAC,IAAI;QAAa,GAAG,KAAK;;;;;;;AAExD,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,oMAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,sNAAC;QACC,KAAK;QACL,WAAW,IAAA,qJAAE,EAAC,0BAA0B;QACvC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\r\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\r\n        outline: \"text-foreground\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  },\r\n);\r\n\r\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\r\n\r\nfunction Badge({ className, variant, ...props }: BadgeProps) {\r\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\r\n}\r\n\r\nexport { Badge, badgeVariants };\r\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,mMAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBAAO,sNAAC;QAAI,WAAW,IAAA,qJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC7E;KAFS"}},
    {"offset": {"line": 970, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/InsightItem.tsx"],"sourcesContent":["import { AIInsight, InsightType } from \"@/lib/ai-insights-types\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { \r\n  Lightbulb, \r\n  AlertTriangle, \r\n  CheckCircle2, \r\n  Info, \r\n  ArrowRight \r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\ninterface InsightItemProps {\r\n  insight: AIInsight;\r\n}\r\n\r\nconst typeConfig: Record<InsightType, { icon: any; color: string; bgColor: string }> = {\r\n  tip: { \r\n    icon: Lightbulb, \r\n    color: \"text-amber-500\", \r\n    bgColor: \"bg-amber-50\" \r\n  },\r\n  warning: { \r\n    icon: AlertTriangle, \r\n    color: \"text-rose-500\", \r\n    bgColor: \"bg-rose-50\" \r\n  },\r\n  success: { \r\n    icon: CheckCircle2, \r\n    color: \"text-emerald-500\", \r\n    bgColor: \"bg-emerald-50\" \r\n  },\r\n  info: { \r\n    icon: Info, \r\n    color: \"text-blue-500\", \r\n    bgColor: \"bg-blue-50\" \r\n  },\r\n};\r\n\r\nexport function InsightItem({ insight }: InsightItemProps) {\r\n  const config = typeConfig[insight.type];\r\n  const Icon = config.icon;\r\n\r\n  return (\r\n    <div className=\"flex gap-4 p-4 rounded-xl border border-border/50 bg-card hover:bg-accent/5 transition-colors group\">\r\n      <div className={`flex-shrink-0 w-10 h-10 rounded-lg ${config.bgColor} flex items-center justify-center`}>\r\n        <Icon className={`w-5 h-5 ${config.color}`} />\r\n      </div>\r\n      \r\n      <div className=\"flex-1 space-y-1\">\r\n        <div className=\"flex items-center justify-between gap-2\">\r\n          <h4 className=\"font-semibold text-sm leading-tight\">{insight.title}</h4>\r\n          <Badge variant=\"outline\" className=\"text-[10px] uppercase tracking-wider h-5\">\r\n            {insight.category}\r\n          </Badge>\r\n        </div>\r\n        \r\n        <p className=\"text-sm text-muted-foreground leading-relaxed\">\r\n          {insight.description}\r\n        </p>\r\n        \r\n        {insight.actionLabel && (\r\n          <div className=\"pt-2\">\r\n            <Link href={insight.actionUrl || \"#\"}>\r\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 px-0 text-xs font-medium hover:bg-transparent text-primary hover:text-primary/80 flex items-center gap-1 group/btn\">\r\n                {insight.actionLabel}\r\n                <ArrowRight className=\"w-3 h-3 transition-transform group-hover/btn:translate-x-0.5\" />\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;;;AAMA,MAAM,aAAiF;IACrF,KAAK;QACH,MAAM,qPAAS;QACf,OAAO;QACP,SAAS;IACX;IACA,SAAS;QACP,MAAM,qQAAa;QACnB,OAAO;QACP,SAAS;IACX;IACA,SAAS;QACP,MAAM,iQAAY;QAClB,OAAO;QACP,SAAS;IACX;IACA,MAAM;QACJ,MAAM,sOAAI;QACV,OAAO;QACP,SAAS;IACX;AACF;AAEO,SAAS,YAAY,EAAE,OAAO,EAAoB;IACvD,MAAM,SAAS,UAAU,CAAC,QAAQ,IAAI,CAAC;IACvC,MAAM,OAAO,OAAO,IAAI;IAExB,qBACE,sNAAC;QAAI,WAAU;;0BACb,sNAAC;gBAAI,WAAW,CAAC,mCAAmC,EAAE,OAAO,OAAO,CAAC,iCAAiC,CAAC;0BACrG,cAAA,sNAAC;oBAAK,WAAW,CAAC,QAAQ,EAAE,OAAO,KAAK,EAAE;;;;;;;;;;;0BAG5C,sNAAC;gBAAI,WAAU;;kCACb,sNAAC;wBAAI,WAAU;;0CACb,sNAAC;gCAAG,WAAU;0CAAuC,QAAQ,KAAK;;;;;;0CAClE,sNAAC,sKAAK;gCAAC,SAAQ;gCAAU,WAAU;0CAChC,QAAQ,QAAQ;;;;;;;;;;;;kCAIrB,sNAAC;wBAAE,WAAU;kCACV,QAAQ,WAAW;;;;;;oBAGrB,QAAQ,WAAW,kBAClB,sNAAC;wBAAI,WAAU;kCACb,cAAA,sNAAC,mMAAI;4BAAC,MAAM,QAAQ,SAAS,IAAI;sCAC/B,cAAA,sNAAC,wKAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAK,WAAU;;oCACzC,QAAQ,WAAW;kDACpB,sNAAC,4PAAU;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtC;KAnCgB"}},
    {"offset": {"line": 1123, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/hooks/useAIInsights.tsx"],"sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\r\nimport { AIInsightsResponse, AIInsightsRequestData } from \"@/lib/ai-insights-types\";\r\n\r\nexport function useAIInsights() {\r\n  const [insights, setInsights] = useState<AIInsightsResponse | null>(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchInsights = useCallback(async (data: AIInsightsRequestData) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const response = await fetch(\"/api/ai-insights\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.details || errorData.error || \"Failed to fetch AI insights\");\r\n      }\r\n\r\n      const result = await response.json();\r\n      setInsights(result);\r\n      \r\n      // Cache insights in localStorage for faster subsequent loads\r\n      localStorage.setItem(\"fintrack_ai_insights\", JSON.stringify({\r\n        data: result,\r\n        timestamp: Date.now()\r\n      }));\r\n      \r\n    } catch (err: any) {\r\n      console.error(\"AI Insights Error:\", err);\r\n      setError(err.message || \"Something went wrong fetching insights\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Load cached insights on mount\r\n    const cached = localStorage.getItem(\"fintrack_ai_insights\");\r\n    if (cached) {\r\n      const { data, timestamp } = JSON.parse(cached);\r\n      // Only use cache if it's less than 6 hours old\r\n      if (Date.now() - timestamp < 6 * 60 * 60 * 1000) {\r\n        setInsights(data);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    insights,\r\n    loading,\r\n    error,\r\n    fetchInsights,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAGO,SAAS;;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,kMAAQ,EAA4B;IACpE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kMAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,kMAAQ,EAAgB;IAElD,MAAM,gBAAgB,IAAA,qMAAW;oDAAC,OAAO;YACvC,WAAW;YACX,SAAS;YACT,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM,oBAAoB;oBAC/C,QAAQ;oBACR,SAAS;wBACP,gBAAgB;oBAClB;oBACA,MAAM,KAAK,SAAS,CAAC;gBACvB;gBAEA,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;oBACrC,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,UAAU,KAAK,IAAI;gBAC1D;gBAEA,MAAM,SAAS,MAAM,SAAS,IAAI;gBAClC,YAAY;gBAEZ,6DAA6D;gBAC7D,aAAa,OAAO,CAAC,wBAAwB,KAAK,SAAS,CAAC;oBAC1D,MAAM;oBACN,WAAW,KAAK,GAAG;gBACrB;YAEF,EAAE,OAAO,KAAU;gBACjB,QAAQ,KAAK,CAAC,sBAAsB;gBACpC,SAAS,IAAI,OAAO,IAAI;YAC1B,SAAU;gBACR,WAAW;YACb;QACF;mDAAG,EAAE;IAEL,IAAA,mMAAS;mCAAC;YACR,gCAAgC;YAChC,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,IAAI,QAAQ;gBACV,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,KAAK,KAAK,CAAC;gBACvC,+CAA+C;gBAC/C,IAAI,KAAK,GAAG,KAAK,YAAY,IAAI,KAAK,KAAK,MAAM;oBAC/C,YAAY;gBACd;YACF;QACF;kCAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;GAzDgB"}},
    {"offset": {"line": 1194, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\nfunction Skeleton({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) {\r\n  return <div className={cn(\"animate-pulse rounded-md bg-muted\", className)} {...props} />;\r\n}\r\n\r\nexport { Skeleton };\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAA6C;IAC7E,qBAAO,sNAAC;QAAI,WAAW,IAAA,qJAAE,EAAC,qCAAqC;QAAa,GAAG,KAAK;;;;;;AACtF;KAFS"}},
    {"offset": {"line": 1223, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/components/AIInsightsCard.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Sparkles, RefreshCcw, BrainCircuit } from \"lucide-react\";\r\nimport { InsightItem } from \"./InsightItem\";\r\nimport { useAIInsights } from \"@/hooks/useAIInsights\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\n\r\ninterface AIInsightsCardProps {\r\n  data: {\r\n    transactions: any[];\r\n    goals: any[];\r\n    totals: {\r\n      income: number;\r\n      expenses: number;\r\n      savings: number;\r\n    };\r\n  };\r\n}\r\n\r\nexport function AIInsightsCard({ data }: AIInsightsCardProps) {\r\n  const { insights, loading, error, fetchInsights } = useAIInsights();\r\n\r\n  const handleRefresh = () => {\r\n    fetchInsights(data);\r\n  };\r\n\r\n  // Initial fetch if no insights\r\n  useState(() => {\r\n    if (!insights && !loading) {\r\n      fetchInsights(data);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <Card className=\"relative overflow-hidden border-2 border-primary/10 shadow-lg\">\r\n      <div className=\"absolute top-0 right-0 p-6 opacity-[0.03] pointer-events-none\">\r\n        <BrainCircuit className=\"w-32 h-32\" />\r\n      </div>\r\n      \r\n      <CardHeader className=\"pb-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className=\"p-2 rounded-lg bg-primary/10\">\r\n              <Sparkles className=\"w-5 h-5 text-primary\" />\r\n            </div>\r\n            <div>\r\n              <CardTitle className=\"text-xl\">AI Financial Insights</CardTitle>\r\n              <CardDescription>Smart analysis of your spending and goals</CardDescription>\r\n            </div>\r\n          </div>\r\n          <Button \r\n            variant=\"outline\" \r\n            size=\"sm\" \r\n            onClick={handleRefresh} \r\n            disabled={loading}\r\n            className=\"gap-2\"\r\n          >\r\n            <RefreshCcw className={`w-4 h-4 ${loading ? 'animate-spin' : ''}`} />\r\n            {loading ? \"Analyzing...\" : \"Refresh\"}\r\n          </Button>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      <CardContent className=\"space-y-4\">\r\n        {loading && !insights ? (\r\n          <div className=\"space-y-4\">\r\n            <Skeleton className=\"h-4 w-3/4\" />\r\n            {[1, 2, 3].map((i) => (\r\n              <div key={i} className=\"flex gap-4 p-4 rounded-xl border border-border/50\">\r\n                <Skeleton className=\"w-10 h-10 rounded-lg\" />\r\n                <div className=\"flex-1 space-y-2\">\r\n                  <Skeleton className=\"h-4 w-1/4\" />\r\n                  <Skeleton className=\"h-3 w-full\" />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"p-8 text-center space-y-3\">\r\n            <div className=\"inline-flex items-center justify-center w-12 h-12 rounded-full bg-rose-50 text-rose-500 mb-2\">\r\n              <RefreshCcw className=\"w-6 h-6\" />\r\n            </div>\r\n            <p className=\"text-sm font-medium text-destructive\">{error}</p>\r\n            <Button variant=\"outline\" size=\"sm\" onClick={handleRefresh}>\r\n              Try Again\r\n            </Button>\r\n          </div>\r\n        ) : insights ? (\r\n          <>\r\n            {insights.summary && (\r\n              <div className=\"p-4 rounded-xl bg-primary/5 border border-primary/10\">\r\n                <p className=\"text-sm font-medium text-primary-foreground/90 italic\">\r\n                  \"{insights.summary}\"\r\n                </p>\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"grid gap-3\">\r\n              {insights.insights.map((insight) => (\r\n                <InsightItem key={insight.id} insight={insight} />\r\n              ))}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"p-12 text-center\">\r\n            <Button onClick={handleRefresh}>Generate Initial Insights</Button>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;AAcO,SAAS,eAAe,EAAE,IAAI,EAAuB;;IAC1D,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,aAAa,EAAE,GAAG,IAAA,2KAAa;IAEjE,MAAM,gBAAgB;QACpB,cAAc;IAChB;IAEA,+BAA+B;IAC/B,IAAA,kMAAQ;mCAAC;YACP,IAAI,CAAC,YAAY,CAAC,SAAS;gBACzB,cAAc;YAChB;QACF;;IAEA,qBACE,sNAAC,oKAAI;QAAC,WAAU;;0BACd,sNAAC;gBAAI,WAAU;0BACb,cAAA,sNAAC,kQAAY;oBAAC,WAAU;;;;;;;;;;;0BAG1B,sNAAC,0KAAU;gBAAC,WAAU;0BACpB,cAAA,sNAAC;oBAAI,WAAU;;sCACb,sNAAC;4BAAI,WAAU;;8CACb,sNAAC;oCAAI,WAAU;8CACb,cAAA,sNAAC,kPAAQ;wCAAC,WAAU;;;;;;;;;;;8CAEtB,sNAAC;;sDACC,sNAAC,yKAAS;4CAAC,WAAU;sDAAU;;;;;;sDAC/B,sNAAC,+KAAe;sDAAC;;;;;;;;;;;;;;;;;;sCAGrB,sNAAC,wKAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS;4BACT,UAAU;4BACV,WAAU;;8CAEV,sNAAC,4PAAU;oCAAC,WAAW,CAAC,QAAQ,EAAE,UAAU,iBAAiB,IAAI;;;;;;gCAChE,UAAU,iBAAiB;;;;;;;;;;;;;;;;;;0BAKlC,sNAAC,2KAAW;gBAAC,WAAU;0BACpB,WAAW,CAAC,yBACX,sNAAC;oBAAI,WAAU;;sCACb,sNAAC,4KAAQ;4BAAC,WAAU;;;;;;wBACnB;4BAAC;4BAAG;4BAAG;yBAAE,CAAC,GAAG,CAAC,CAAC,kBACd,sNAAC;gCAAY,WAAU;;kDACrB,sNAAC,4KAAQ;wCAAC,WAAU;;;;;;kDACpB,sNAAC;wCAAI,WAAU;;0DACb,sNAAC,4KAAQ;gDAAC,WAAU;;;;;;0DACpB,sNAAC,4KAAQ;gDAAC,WAAU;;;;;;;;;;;;;+BAJd;;;;;;;;;;2BASZ,sBACF,sNAAC;oBAAI,WAAU;;sCACb,sNAAC;4BAAI,WAAU;sCACb,cAAA,sNAAC,4PAAU;gCAAC,WAAU;;;;;;;;;;;sCAExB,sNAAC;4BAAE,WAAU;sCAAwC;;;;;;sCACrD,sNAAC,wKAAM;4BAAC,SAAQ;4BAAU,MAAK;4BAAK,SAAS;sCAAe;;;;;;;;;;;2BAI5D,yBACF;;wBACG,SAAS,OAAO,kBACf,sNAAC;4BAAI,WAAU;sCACb,cAAA,sNAAC;gCAAE,WAAU;;oCAAwD;oCACjE,SAAS,OAAO;oCAAC;;;;;;;;;;;;sCAKzB,sNAAC;4BAAI,WAAU;sCACZ,SAAS,QAAQ,CAAC,GAAG,CAAC,CAAC,wBACtB,sNAAC,4KAAW;oCAAkB,SAAS;mCAArB,QAAQ,EAAE;;;;;;;;;;;iDAKlC,sNAAC;oBAAI,WAAU;8BACb,cAAA,sNAAC,wKAAM;wBAAC,SAAS;kCAAe;;;;;;;;;;;;;;;;;;;;;;AAM5C;GA5FgB;;QACsC,2KAAa;;;KADnD"}},
    {"offset": {"line": 1538, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/hooks/useTransactions.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"./useAuth\";\r\nimport { useToast } from \"./use-toast\";\r\n\r\nexport interface Transaction {\r\n  id: string;\r\n  amount: number;\r\n  type: \"income\" | \"expense\";\r\n  description: string | null;\r\n  date: string;\r\n  created_at: string;\r\n  category_id: string | null;\r\n  category?: {\r\n    id: string;\r\n    name: string;\r\n    icon: string | null;\r\n    color: string | null;\r\n  };\r\n}\r\n\r\nexport interface Category {\r\n  id: string;\r\n  name: string;\r\n  icon: string | null;\r\n  color: string | null;\r\n  type: \"income\" | \"expense\";\r\n}\r\n\r\nexport function useTransactions() {\r\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { user } = useAuth();\r\n  const { toast } = useToast();\r\n\r\n  const fetchTransactions = async () => {\r\n    if (!user) return;\r\n    \r\n    const { data, error } = await supabase\r\n      .from(\"transactions\")\r\n      .select(`\r\n        *,\r\n        category:categories(id, name, icon, color)\r\n      `)\r\n      .eq(\"user_id\", user.id)\r\n      .order(\"date\", { ascending: false });\r\n\r\n    if (error) {\r\n      toast({\r\n        title: \"Error fetching transactions\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setTransactions(data as Transaction[]);\r\n  };\r\n\r\n  const fetchCategories = async () => {\r\n    if (!user) return;\r\n    \r\n    const { data, error } = await supabase\r\n      .from(\"categories\")\r\n      .select(\"*\")\r\n      .eq(\"user_id\", user.id);\r\n\r\n    if (error) {\r\n      toast({\r\n        title: \"Error fetching categories\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setCategories(data as Category[]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setLoading(true);\r\n      Promise.all([fetchTransactions(), fetchCategories()]).finally(() => {\r\n        setLoading(false);\r\n      });\r\n\r\n      // Realtime subscription\r\n      const channel = supabase\r\n        .channel('transactions-changes')\r\n        .on(\r\n          'postgres_changes',\r\n          {\r\n            event: '*',\r\n            schema: 'public',\r\n            table: 'transactions',\r\n            filter: `user_id=eq.${user.id}`,\r\n          },\r\n          (payload) => {\r\n            console.log('Realtime change received!', payload);\r\n            fetchTransactions();\r\n          }\r\n        )\r\n        .subscribe();\r\n\r\n      return () => {\r\n        supabase.removeChannel(channel);\r\n      };\r\n    }\r\n  }, [user]);\r\n\r\n  const addTransaction = async (transaction: {\r\n    amount: number;\r\n    type: \"income\" | \"expense\";\r\n    category_id: string;\r\n    date: string;\r\n    description?: string;\r\n  }) => {\r\n    if (!user) return { error: new Error(\"Not authenticated\") };\r\n\r\n    const { error } = await supabase.from(\"transactions\").insert({\r\n      ...transaction,\r\n      user_id: user.id,\r\n    });\r\n\r\n    if (error) {\r\n      return { error };\r\n    }\r\n\r\n    await fetchTransactions();\r\n    return { error: null };\r\n  };\r\n\r\n  const deleteTransaction = async (id: string) => {\r\n    const { error } = await supabase.from(\"transactions\").delete().eq(\"id\", id);\r\n\r\n    if (error) {\r\n      toast({\r\n        title: \"Error deleting transaction\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    await fetchTransactions();\r\n  };\r\n\r\n  const getTotals = () => {\r\n    const income = transactions\r\n      .filter((t) => t.type === \"income\")\r\n      .reduce((sum, t) => sum + Number(t.amount), 0);\r\n    \r\n    const expenses = transactions\r\n      .filter((t) => t.type === \"expense\")\r\n      .reduce((sum, t) => sum + Number(t.amount), 0);\r\n    \r\n    return { income, expenses, savings: income - expenses };\r\n  };\r\n\r\n  return {\r\n    transactions,\r\n    categories,\r\n    loading,\r\n    addTransaction,\r\n    deleteTransaction,\r\n    getTotals,\r\n    refetch: fetchTransactions,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1685, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/hooks/useGoals.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { useAuth } from \"./useAuth\";\r\nimport { useToast } from \"./use-toast\";\r\n\r\nexport interface Goal {\r\n  id: string;\r\n  name: string;\r\n  target_amount: number;\r\n  current_amount: number;\r\n  deadline: string | null;\r\n  status: \"in_progress\" | \"reached\" | \"missed\";\r\n  icon: string | null;\r\n  color: string | null;\r\n  user_id: string;\r\n}\r\n\r\nexport function useGoals() {\r\n  const [goals, setGoals] = useState<Goal[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { user } = useAuth();\r\n  const { toast } = useToast();\r\n\r\n  const fetchGoals = async () => {\r\n    if (!user) return;\r\n    \r\n    const { data, error } = await supabase\r\n      .from(\"goals\")\r\n      .select(\"*\")\r\n      .eq(\"user_id\", user.id)\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      toast({\r\n        title: \"Error fetching goals\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    setGoals(data as Goal[]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setLoading(true);\r\n      fetchGoals().finally(() => setLoading(false));\r\n\r\n      // Realtime subscription\r\n      const channel = supabase\r\n        .channel('goals-changes')\r\n        .on(\r\n          'postgres_changes',\r\n          {\r\n            event: '*',\r\n            schema: 'public',\r\n            table: 'goals',\r\n            filter: `user_id=eq.${user.id}`,\r\n          },\r\n          () => {\r\n            fetchGoals();\r\n          }\r\n        )\r\n        .subscribe();\r\n\r\n      return () => {\r\n        supabase.removeChannel(channel);\r\n      };\r\n    }\r\n  }, [user]);\r\n\r\n  const addGoal = async (goal: Omit<Goal, \"id\" | \"user_id\" | \"status\">) => {\r\n    if (!user) return { error: new Error(\"Not authenticated\") };\r\n\r\n    const { error } = await supabase.from(\"goals\").insert({\r\n      ...goal,\r\n      current_amount: goal.current_amount || 0,\r\n      status: \"in_progress\",\r\n      user_id: user.id,\r\n    });\r\n\r\n    if (error) {\r\n      return { error };\r\n    }\r\n\r\n    await fetchGoals();\r\n    return { error: null };\r\n  };\r\n\r\n  const updateGoal = async (id: string, updates: Partial<Goal>) => {\r\n    const { error } = await supabase\r\n      .from(\"goals\")\r\n      .update(updates)\r\n      .eq(\"id\", id);\r\n\r\n    if (error) {\r\n      return { error };\r\n    }\r\n\r\n    await fetchGoals();\r\n    return { error: null };\r\n  };\r\n\r\n  const deleteGoal = async (id: string) => {\r\n    const { error } = await supabase.from(\"goals\").delete().eq(\"id\", id);\r\n\r\n    if (error) {\r\n      toast({\r\n        title: \"Error deleting goal\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    await fetchGoals();\r\n  };\r\n\r\n  const addFundsToGoal = async (id: string, amount: number) => {\r\n    const goal = goals.find((g) => g.id === id); // Updated to use .id\r\n    if (!goal) return { error: new Error(\"Goal not found\") };\r\n\r\n    const newAmount = Number(goal.current_amount) + amount;\r\n    return updateGoal(id, { current_amount: newAmount });\r\n  };\r\n\r\n  const getTotals = () => {\r\n    const totalSaved = goals.reduce((sum, g) => sum + Number(g.current_amount), 0);\r\n    const totalTarget = goals.reduce((sum, g) => sum + Number(g.target_amount), 0);\r\n    return { totalSaved, totalTarget };\r\n  };\r\n\r\n  return {\r\n    goals,\r\n    loading,\r\n    addGoal,\r\n    updateGoal,\r\n    deleteGoal,\r\n    addFundsToGoal, // Included in return\r\n    getTotals,      // Included in return\r\n    refetch: fetchGoals,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1833, "column": 0}, "map": {"version":3,"sources":["file:///D:/prac/PROJECTS/FinTrack/fin_track/src/app/ai-insights/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport AppLayout from \"@/components/AppLayout\";\r\nimport { AIInsightsCard } from \"@/components/AIInsightsCard\";\r\nimport { useTransactions } from \"@/hooks/useTransactions\";\r\nimport { useGoals } from \"@/hooks/useGoals\";\r\nimport { BrainCircuit, Sparkles } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function AIInsightsPage() {\r\n  const { transactions, loading: txLoading, getTotals } = useTransactions();\r\n  const { goals, loading: goalsLoading } = useGoals();\r\n  const totals = getTotals();\r\n\r\n  const loading = txLoading || goalsLoading;\r\n\r\n  return (\r\n    <AppLayout>\r\n      <div className=\"max-w-4xl mx-auto space-y-8\">\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n          <div className=\"space-y-1\">\r\n            <h1 className=\"text-3xl font-bold flex items-center gap-3\">\r\n              <BrainCircuit className=\"w-8 h-8 text-primary\" />\r\n              AI Financial Insights\r\n            </h1>\r\n            <p className=\"text-muted-foreground\">\r\n              Deep analysis of your financial data using advanced AI.\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"flex items-center justify-center h-64\">\r\n            <div className=\"h-8 w-8 border-4 border-primary/30 border-t-primary rounded-full animate-spin\" />\r\n          </div>\r\n        ) : (\r\n          <motion.div\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ duration: 0.4 }}\r\n          >\r\n            <AIInsightsCard\r\n              data={{\r\n                transactions,\r\n                goals,\r\n                totals: {\r\n                  income: totals.income,\r\n                  expenses: totals.expenses,\r\n                  savings: totals.savings,\r\n                },\r\n              }}\r\n            />\r\n          </motion.div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 pt-4\">\r\n          <div className=\"p-6 rounded-2xl border border-border bg-card/50 space-y-3\">\r\n            <h3 className=\"font-semibold text-lg\">How it works</h3>\r\n            <p className=\"text-sm text-muted-foreground leading-relaxed\">\r\n              Our AI analyzes your transaction history, spending categories, and\r\n              financial goals to identify patterns and opportunities you might\r\n              have missed.\r\n            </p>\r\n            <ul className=\"text-sm text-muted-foreground space-y-2 list-disc pl-4\">\r\n              <li>Identifies unusual spending spikes</li>\r\n              <li>Suggests budget optimizations</li>\r\n              <li>Predicts goal achievement timelines</li>\r\n              <li>Provides personalized savings tips</li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"p-6 rounded-2xl border border-border bg-card/50 space-y-3\">\r\n            <h3 className=\"font-semibold text-lg\">Privacy & Security</h3>\r\n            <p className=\"text-sm text-muted-foreground leading-relaxed\">\r\n              Your financial data is encrypted and only shared with the AI model\r\n              for analysis. We don't store your data on AI servers, and it's\r\n              never used for training.\r\n            </p>\r\n            <div className=\"pt-2\">\r\n              <span className=\"text-xs font-medium px-2 py-1 rounded-md bg-secondary text-secondary-foreground\">\r\n                Zero Data Retention Enabled\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </AppLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,EAAE,YAAY,EAAE,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,IAAA,+KAAe;IACvE,MAAM,EAAE,KAAK,EAAE,SAAS,YAAY,EAAE,GAAG,IAAA,iKAAQ;IACjD,MAAM,SAAS;IAEf,MAAM,UAAU,aAAa;IAE7B,qBACE,sNAAC,sKAAS;kBACR,cAAA,sNAAC;YAAI,WAAU;;8BACb,sNAAC;oBAAI,WAAU;8BACb,cAAA,sNAAC;wBAAI,WAAU;;0CACb,sNAAC;gCAAG,WAAU;;kDACZ,sNAAC,kQAAY;wCAAC,WAAU;;;;;;oCAAyB;;;;;;;0CAGnD,sNAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;;;;;;gBAMxC,wBACC,sNAAC;oBAAI,WAAU;8BACb,cAAA,sNAAC;wBAAI,WAAU;;;;;;;;;;yCAGjB,sNAAC,gOAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAK;oBACnC,SAAS;wBAAE,SAAS;wBAAG,OAAO;oBAAE;oBAChC,YAAY;wBAAE,UAAU;oBAAI;8BAE5B,cAAA,sNAAC,kLAAc;wBACb,MAAM;4BACJ;4BACA;4BACA,QAAQ;gCACN,QAAQ,OAAO,MAAM;gCACrB,UAAU,OAAO,QAAQ;gCACzB,SAAS,OAAO,OAAO;4BACzB;wBACF;;;;;;;;;;;8BAKN,sNAAC;oBAAI,WAAU;;sCACb,sNAAC;4BAAI,WAAU;;8CACb,sNAAC;oCAAG,WAAU;8CAAwB;;;;;;8CACtC,sNAAC;oCAAE,WAAU;8CAAgD;;;;;;8CAK7D,sNAAC;oCAAG,WAAU;;sDACZ,sNAAC;sDAAG;;;;;;sDACJ,sNAAC;sDAAG;;;;;;sDACJ,sNAAC;sDAAG;;;;;;sDACJ,sNAAC;sDAAG;;;;;;;;;;;;;;;;;;sCAIR,sNAAC;4BAAI,WAAU;;8CACb,sNAAC;oCAAG,WAAU;8CAAwB;;;;;;8CACtC,sNAAC;oCAAE,WAAU;8CAAgD;;;;;;8CAK7D,sNAAC;oCAAI,WAAU;8CACb,cAAA,sNAAC;wCAAK,WAAU;kDAAkF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAShH;GA/EwB;;QACkC,+KAAe;QAC9B,iKAAQ;;;KAF3B"}}]
}