module.exports=[7300,a=>{"use strict";let b=(0,a.i(22985).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],7300)},83284,68418,18370,73715,a=>{"use strict";var b=a.i(22985);let c=(0,b.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);a.s(["LayoutDashboard",()=>c],83284);let d=(0,b.default)("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);a.s(["ArrowRightLeft",()=>d],68418);let e=(0,b.default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);a.s(["BarChart3",()=>e],18370);let f=(0,b.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Settings",()=>f],73715)},66007,a=>{"use strict";let b=(0,a.i(22985).default)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);a.s(["Bell",()=>b],66007)},93741,(a,b,c)=>{"use strict";var d=a.r(13684);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},3475,(a,b,c)=>{"use strict";b.exports=a.r(93741)},31614,a=>{"use strict";var b=a.i(84944),c=a.i(13684),d=a.i(11695),e=a.i(43675),f=a.i(55385),g=a.i(38561),h=a.i(3475);function i(){return()=>{}}var j="Avatar",[k,l]=(0,d.createContextScope)(j),[m,n]=k(j),o=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...f}=a,[h,i]=c.useState("idle");return(0,b.jsx)(m,{scope:e,imageLoadingStatus:h,onImageLoadingStatusChange:i,children:(0,b.jsx)(g.Primitive.span,{...f,ref:d})})});o.displayName=j;var p="AvatarImage",q=c.forwardRef((a,d)=>{let{__scopeAvatar:j,src:k,onLoadingStatusChange:l=()=>{},...m}=a,o=n(p,j),q=function(a,{referrerPolicy:b,crossOrigin:d}){let e=(0,h.useSyncExternalStore)(i,()=>!0,()=>!1),g=c.useRef(null),j=e?(g.current||(g.current=new window.Image),g.current):null,[k,l]=c.useState(()=>t(j,a));return(0,f.useLayoutEffect)(()=>{l(t(j,a))},[j,a]),(0,f.useLayoutEffect)(()=>{let a=a=>()=>{l(a)};if(!j)return;let c=a("loaded"),e=a("error");return j.addEventListener("load",c),j.addEventListener("error",e),b&&(j.referrerPolicy=b),"string"==typeof d&&(j.crossOrigin=d),()=>{j.removeEventListener("load",c),j.removeEventListener("error",e)}},[j,d,b]),k}(k,m),r=(0,e.useCallbackRef)(a=>{l(a),o.onImageLoadingStatusChange(a)});return(0,f.useLayoutEffect)(()=>{"idle"!==q&&r(q)},[q,r]),"loaded"===q?(0,b.jsx)(g.Primitive.img,{...m,ref:d,src:k}):null});q.displayName=p;var r="AvatarFallback",s=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:f,...h}=a,i=n(r,e),[j,k]=c.useState(void 0===f);return c.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>k(!0),f);return()=>window.clearTimeout(a)}},[f]),j&&"loaded"!==i.imageLoadingStatus?(0,b.jsx)(g.Primitive.span,{...h,ref:d}):null});function t(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}s.displayName=r;var u=a.i(64218);let v=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(o,{ref:d,className:(0,u.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...c}));v.displayName=o.displayName;let w=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(q,{ref:d,className:(0,u.cn)("aspect-square h-full w-full",a),...c}));w.displayName=q.displayName;let x=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(s,{ref:d,className:(0,u.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...c}));x.displayName=s.displayName,a.s(["Avatar",()=>v,"AvatarFallback",()=>x,"AvatarImage",()=>w],31614)},74262,94764,a=>{"use strict";var b=a.i(84944),c=a.i(28846),d=a.i(45682),e=a.i(80437),f=a.i(83284),g=a.i(68418),h=a.i(18370),i=a.i(33815),j=a.i(99202),k=a.i(73715),l=a.i(66007),m=a.i(7300),n=a.i(38377),o=a.i(89760),p=a.i(31614),q=a.i(91104),r=a.i(2610),s=a.i(13684),t=a.i(73074),u=a.i(82206);function v(){let{user:a}=(0,u.useAuth)(),{toast:b}=(0,r.useToast)(),[c,d]=(0,s.useState)(null),[e,f]=(0,s.useState)(!0);(0,s.useEffect)(()=>{a&&g()},[a]);let g=async()=>{if(a)try{let{data:b,error:c}=await t.supabase.from("profiles").select("*").eq("user_id",a.id).single();if(c)throw c;d(b)}catch(a){console.error("Error fetching profile:",a)}finally{f(!1)}},h=async e=>{if(!a||!c)return{error:Error("No user or profile")};try{let{error:f}=await t.supabase.from("profiles").update({...e,updated_at:new Date().toISOString()}).eq("user_id",a.id);if(f)throw f;return d({...c,...e}),b({title:"Profile updated",description:"Your changes have been saved successfully."}),{error:null}}catch(a){return b({title:"Error updating profile",description:a.message,variant:"destructive"}),{error:a}}},i=async c=>{if(!a)return{error:Error("No user"),url:null};try{let b=c.name.split(".").pop(),d=`${a.id}/avatar.${b}`;await t.supabase.storage.from("avatars").remove([d]);let{error:e}=await t.supabase.storage.from("avatars").upload(d,c,{upsert:!0});if(e)throw e;let{data:f}=t.supabase.storage.from("avatars").getPublicUrl(d),g=`${f.publicUrl}?t=${Date.now()}`;return await h({avatar_url:g}),{error:null,url:g}}catch(a){return b({title:"Error uploading avatar",description:a.message,variant:"destructive"}),{error:a,url:null}}},j=async()=>{if(!a)return{error:Error("No user")};try{let{error:b}=await t.supabase.storage.from("avatars").remove([`${a.id}/avatar.png`,`${a.id}/avatar.jpg`,`${a.id}/avatar.jpeg`,`${a.id}/avatar.webp`]);return b&&console.warn("Error deleting avatar files:",b),await h({avatar_url:null}),{error:null}}catch(a){return b({title:"Error removing avatar",description:a.message,variant:"destructive"}),{error:a}}};return{profile:c,loading:e,updateProfile:h,uploadAvatar:i,removeAvatar:j,refreshProfile:g}}a.s(["useProfile",()=>v],94764);let w=[{label:"Dashboard",icon:f.LayoutDashboard,href:"/dashboard"},{label:"Transactions",icon:g.ArrowRightLeft,href:"/transactions"},{label:"Reports",icon:h.BarChart3,href:"/reports"},{label:"AI Insights",icon:i.Sparkles,href:"/ai-insights"},{label:"Goals",icon:j.Target,href:"/goals"}];a.s(["default",0,({children:a})=>{let f=(0,d.usePathname)();(0,d.useRouter)();let{toast:g}=(0,r.useToast)(),{profile:h}=v(),{user:i}=(0,u.useAuth)();return(0,b.jsxs)("div",{className:"min-h-screen bg-background flex",children:[(0,b.jsxs)("aside",{className:"hidden lg:flex lg:flex-col w-64 border-r border-border bg-sidebar p-4",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)(q.default,{size:"md"})}),(0,b.jsx)("nav",{className:"flex-1 space-y-1",children:w.map(a=>{let d=f===a.href;return(0,b.jsxs)(c.default,{href:a.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${d?"bg-primary/10 text-primary border-l-2 border-primary":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:[(0,b.jsx)(a.icon,{size:20}),a.label]},a.href)})}),(0,b.jsx)("div",{className:"pt-4 border-t border-border space-y-1",children:(0,b.jsxs)(c.default,{href:"/settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${"/settings"===f?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-secondary"}`,children:[(0,b.jsx)(k.Settings,{size:20}),"Settings"]})})]}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,b.jsx)("header",{className:"h-16 border-b border-border bg-background/80 backdrop-blur-xl sticky top-0 z-40",children:(0,b.jsxs)("div",{className:"h-full px-6 flex items-center justify-between gap-4",children:[(0,b.jsx)("div",{className:"lg:hidden",children:(0,b.jsx)(q.default,{size:"sm",showText:!1})}),(0,b.jsx)("div",{className:"hidden md:flex flex-1 max-w-md",children:(0,b.jsxs)("div",{className:"relative w-full",children:[(0,b.jsx)(m.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),(0,b.jsx)(o.Input,{placeholder:"Search transactions, categories...",className:"pl-10 bg-secondary/50"})]})}),(0,b.jsx)("div",{className:"hidden lg:flex items-center gap-1",children:w.slice(0,5).map(a=>{let d=location.pathname===a.href;return(0,b.jsx)(c.default,{href:a.href,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${d?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:a.label},a.href)})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.default,{href:"/settings?tab=notifications",children:(0,b.jsxs)(n.Button,{variant:"ghost",size:"icon",className:"relative",children:[(0,b.jsx)(l.Bell,{size:20}),(0,b.jsx)("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-destructive"})]})}),(0,b.jsx)(c.default,{href:"/settings",children:(0,b.jsx)(n.Button,{variant:"ghost",size:"icon",children:(0,b.jsx)(k.Settings,{size:20})})}),(0,b.jsx)(c.default,{href:"/settings",children:(0,b.jsxs)(p.Avatar,{className:"h-9 w-9 cursor-pointer hover:opacity-90 transition-opacity border-2 border-primary/20",children:[(0,b.jsx)(p.AvatarImage,{src:h?.avatar_url||void 0,alt:"Profile"}),(0,b.jsx)(p.AvatarFallback,{className:"bg-gradient-primary text-primary-foreground text-sm font-medium",children:h?.full_name?h.full_name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):i?.email?.[0]?.toUpperCase()||"U"})]})})]})]})}),(0,b.jsx)("main",{className:"flex-1 p-6 overflow-auto",children:(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:a})})]})]})}],74262)}];

//# sourceMappingURL=FinTrack_fin_track_8e4fe39a._.js.map